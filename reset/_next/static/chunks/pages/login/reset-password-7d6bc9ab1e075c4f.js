(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{5111:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login/reset-password",function(){return n(1072)}])},2347:function(e,t,n){"use strict";var s=n(5893);n(7294),t.Z=e=>{let{heading:t,...n}=e;return(0,s.jsx)("div",{className:"mt-[17rem] pl-[12vw] w-[60vw]",children:(0,s.jsxs)("div",{className:"w-[35.4rem] flex flex-col",children:[t&&(0,s.jsx)("p",{className:"text-36-600 mb-12 whitespace-nowrap",children:t}),n.children]})})}},7329:function(e,t,n){"use strict";var s=n(5893),r=n(165),a=n.n(r);t.Z=e=>{let{className:t}=e;return(0,s.jsx)("div",{className:"".concat(a().horizonal_seperator," ").concat(t)})}},9243:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(5893);n(7294);var r=n(5675),a=n.n(r),o=n(5833);function i(e){let{updateState:t}=e;return(0,s.jsx)(a(),{onMouseDown:()=>t(!0),onMouseUp:()=>t(!1),onMouseLeave:()=>t(!1),onTouchStart:()=>t(!0),onTouchEnd:()=>t(!1),src:o.WD,alt:"Password",width:20,height:20})}},5833:function(e,t,n){"use strict";n.d(t,{Dt:function(){return c},L_:function(){return o},Lj:function(){return r},Qo:function(){return i},WD:function(){return s},YK:function(){return l},Zc:function(){return a},_P:function(){return p},bi:function(){return u},fV:function(){return d},rH:function(){return _}});let s="/assets/password_hidden.svg",r="/assets/security.svg",a="/assets/info.svg",o="/assets/right_tick.svg",i="/assets/country-flags/",u="/assets/warning_info.svg",c="/assets/password_strength_weak.svg",l="/assets/key_down.svg",_="/assets/security/security-default-img.svg",d="/assets/security/secure_lock.svg",p="/assets/security/insecure_lock.svg"},7962:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var s=n(3973),r=n(4453),a=n(9133),o=n(2881),i=n(9641),u=n(822),c=n(2503),l=n(7857),_=n(9999),d=n(1163),p=n(7294);function m(){let{timer:e,isTimerStarted:t}=(0,a.C)(e=>e.timerDetails),{authFlow:n}=(0,a.C)(e=>e.authType),[m,f]=(0,p.useState)(!1),h=(0,a.T)(),w=(0,d.useRouter)();return(0,p.useEffect)(()=>{let a;let d=()=>{switch(n){case o.Mk.EMAILANDPWD:case o.Mk.GOOGLE_LOGIN:h((0,u.Tv)({email:"",password:""})),h((0,u.Ac)(!1)),h((0,i.D2)(null)),h((0,i.MA)("")),h((0,i.jM)("")),w.push(r.lW);break;case o.Mk.GOOGLE_SIGNUP:h((0,i.D2)(null)),h((0,i.MA)("")),h((0,i.jM)("")),h((0,i.ie)({phoneNumber:"",phoneCountryShortName:"",countryShortName:""})),h((0,l.AR)({phoneNumber:"",phoneCountryShortName:"",countryShortName:"",mobileCode:""})),w.push(r.yL);break;case o.Mk.EMAILANDPWD_SIGNUP:h((0,l.wR)({email:"",password:"",firstName:"",lastName:"",token:""})),h((0,l.AR)({phoneNumber:"",phoneCountryShortName:"",countryShortName:"",mobileCode:""})),w.push(r.yL);break;case o.Mk.RESET_PASSWORD:h((0,c.cl)({email:"",password:"",password_confirmation:""})),w.push(r.TJ)}};if(t&&!m){let t=e;a=setInterval(()=>{let e=++t;e===s._S&&(f(!0),d(),h((0,_.ht)(!1)),h((0,_.W0)(0)),clearInterval(a)),h((0,_.W0)(e))},1e3)}return()=>clearInterval(a)},[t]),{startTimer:()=>{f(!1),h((0,_.W0)(0)),h((0,_.ht)(!0))},isTimerCompleted:m,stopTimer:()=>{f(!1),h((0,_.W0)(0)),h((0,_.ht)(!1))}}}},8623:function(e,t,n){"use strict";n.d(t,{z:function(){return p}});var s,r,a,o,i=n(5893);(s=a||(a={})).primary="primary",s.secondary="secondary",s.tertiary="tertiary",(r=o||(o={})).accent="accent",r.error="error",r.success="success",r.warning="warning";var u=n(1985),c=n.n(u);n(7294);var l=n(10),_=n.n(l),d=()=>(0,i.jsx)("div",{className:"".concat(_().loader_wrapper),children:(0,i.jsx)("div",{className:"".concat(_().dot_flashing)})});let p=e=>{let{variant:t=a.primary,color:n=o.accent,className:s="",isLoading:r=!1,...u}=e;return(0,i.jsxs)("button",{className:"".concat(c().button," ").concat(c()[t]," ").concat(c()[n]," ").concat(t," ").concat(n," ").concat(s),...u,onClick:e=>{var t;r||null===(t=u.onClick)||void 0===t||t.call(u,e)},children:[!r&&u.children,r&&(0,i.jsx)(d,{})]})}},7607:function(e,t,n){"use strict";var s=n(5893),r=n(6472),a=n(3574),o=n.n(a),i=n(7294);let u=(0,i.forwardRef)((e,t)=>{let{label:n,value:a=null,type:u=r.D.text,onValidation:c,onChange:l,onFocus:_,onBlur:d,onKeyUp:p,errorClasses:m,suffixElement:f,className:h}=e,[w,g]=(0,i.useState)(!1),[N,S]=(0,i.useState)(null),[v,b]=(0,i.useState)(!1),[x,y]=(0,i.useState)(!1),E=()=>{let e=null==c?void 0:c(a);S(v?e:null)};return(0,i.useEffect)(()=>{let e=null==c?void 0:c(a);S(v?e:null)},[w,v,a,c]),(0,i.useImperativeHandle)(t,()=>({updateErrorState:E})),(0,s.jsxs)("div",{className:"relative ".concat(h),children:[(0,s.jsxs)("div",{className:"w-full\n        ".concat(o().input_container,"\n        ").concat(w?o().has_focus:"","\n        ").concat(a||x?o().has_value:"","\n        ").concat(N&&a?o().has_error:"","\n      "),children:[(0,s.jsx)("label",{htmlFor:"inputElement",className:o().label,children:n}),(0,s.jsx)("input",{value:null!=a?a:"",type:u,name:"inputElement",className:o().input,onAnimationStart:e=>{y(e.animationName.includes("on-auto-fill-start"))},onFocus:e=>{g(!0),null==_||_(e)},onBlur:e=>{g(!1),b(!0),null==d||d(e)},onKeyUp:p,onChange:l}),f]}),N&&a&&(0,s.jsx)("p",{className:"".concat(o().error," ").concat(m),children:N})]})});u.displayName="TypedInputField",t.Z=u},6472:function(e,t,n){"use strict";var s,r;n.d(t,{D:function(){return s}}),(r=s||(s={})).text="text",r.number="number",r.password="password"},1463:function(e,t,n){"use strict";n.d(t,{j:function(){return _}});var s=n(5893),r=n(5833),a=n(9161),o=n.n(a),i=n(4826),u=n(5675),c=n.n(u),l=n(7294);let _=e=>{let{noteVariant:t,children:n}=e,{imgPath:a,imgSize:u}=(0,l.useMemo)(()=>{let e=r.Zc,n=16;switch(t){case i.S.security:e=r.Lj,n=24;break;case i.S.impNote:case i.S.insight:e=r.Zc,n=16;case i.S.infoWarning:e=r.bi,n=16}return{imgPath:e,imgSize:n}},[t]);return(0,s.jsxs)("div",{className:"".concat(o().note_wrapper," ").concat(t===i.S.impNote&&o().imp_note," ").concat(t===i.S.insight&&o().insight,"\n        ").concat(t===i.S.security&&o().security),children:[(0,s.jsx)(c(),{src:a,alt:"",width:u,height:u,className:o().icon}),(0,s.jsx)("p",{children:n})]})}},4826:function(e,t,n){"use strict";var s,r;n.d(t,{S:function(){return s}}),(r=s||(s={})).insight="insight",r.impNote="impNote",r.security="security",r.infoWarning="infoWarning"},1072:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return k}});var s=n(5893),r=n(2347),a=n(9243),o=n(8623),i=n(7607),u=n(6472),c=n(3367),l=n(9133),_=n(4515),d=n(7294),p=n(3708),m=n(2571),f=n(8388),h=n(2503),w=n(1163),g=n(4453),N=n(6349),S=n(9388),v=n(4588),b=n(1463),x=n(4826),y=n(7329),E=n(3973),C=n(5675),P=n.n(C),D=n(5833),j=n(2881),R=n(7962),k=!0;t.default=()=>{let[e,t]=(0,d.useState)(!1),[n,C]=(0,d.useState)(!1),[k,O]=(0,d.useState)(!1),[T,I]=(0,d.useState)(!1),[W,A]=(0,d.useState)(!1),L=(0,l.T)(),M=(0,w.useRouter)(),{resetPasswordApiStatus:V,resetPasswordApiErrorMsg:Z}=(0,l.C)(e=>e.resetPasswordDetails),[G,U]=(0,d.useState)({emailID:"",newPassword:"",confirmPassword:""}),{checkPasswordApiStatue:F,checkPasswordApiResponse:z}=(0,l.C)(e=>e.signUpDetails),[B,K]=(0,d.useState)(),{startTimer:Q}=(0,R.Z)();(0,d.useEffect)(()=>{(0,v.PR)(S.iz.FORGOT_PASSWORD)},[]),(0,d.useEffect)(()=>{O(Y())},[G]),(0,d.useEffect)(()=>{F===c.r.SUCCESS?K((null==z?void 0:z.pwned_score)!==0):F===c.r.ERROR&&K(!0)},[F]);let q=(0,l.C)(e=>e.loginAuthDetails.authenticateApiStatus===c.r.PENDING),X=(e,t)=>{t&&t.includes(" ")&&(t=t.replace(E.wm,"")),U({...G,[e]:t})};(0,d.useEffect)(()=>{V===c.r.SUCCESS?((0,v.Xi)(S.iz.FORGOT_PASSWORD,S.hC.CONFIRM),L((0,h.cl)({email:G.emailID.toLowerCase(),password:G.newPassword,password_confirmation:G.confirmPassword})),Q(),M.push(g.gr,g.lW),L((0,h.q4)()),L((0,j.q5)(j.Mk.RESET_PASSWORD))):V===c.r.ERROR&&((0,_.O7)(Z),L((0,h.q4)()))},[V]);let H=e=>({email:e.encrypt(G.emailID.toLowerCase()).toString(),password:e.encrypt(G.newPassword).toString(),password_confirmation:e.encrypt(G.confirmPassword).toString(),purpose:f.I.RESET_PASSWORD,pe:!0,piie:!0}),Y=()=>!(0,_.vV)(G.emailID)&&!(0,_.eW)(G.newPassword)&&!(0,_.eW)(G.confirmPassword)&&G.newPassword===G.confirmPassword,J=(0,d.useCallback)((0,_.Ds)(e=>{let t={hashed_password:(0,_.__)(e)};L((0,N.o)(t))},500),[]),$=e=>{J(e),X("newPassword",e)};return(0,s.jsxs)(r.Z,{heading:"Reset password",children:[(0,s.jsx)(i.Z,{label:"Email ID",type:u.D.text,value:G.emailID,onValidation:_.vV,onChange:e=>X("emailID",e.target.value),className:"mb-20 mt-8"}),(0,s.jsx)(i.Z,{label:"New Password",type:e?u.D.text:u.D.password,value:G.newPassword,onValidation:_.V,onBlur:()=>I(!0),onChange:e=>$(e.target.value),className:"mb-20",suffixElement:(0,s.jsxs)("div",{className:"flex flex-row",children:[G.newPassword&&!0===B&&(0,s.jsx)(P(),{src:D.Dt,width:68,height:24,alt:"Password weak",className:"mr-12"}),(0,s.jsx)(a.Z,{updateState:e=>{t(e)}})]})}),(0,s.jsx)(i.Z,{label:"Confirm Password",type:n?u.D.text:u.D.password,value:G.confirmPassword,onValidation:_.V,onBlur:()=>A(!0),onChange:e=>X("confirmPassword",e.target.value),className:"mb-32",suffixElement:(0,s.jsx)(a.Z,{updateState:e=>{C(e)}})}),G.newPassword!=G.confirmPassword&&T&&W&&(0,s.jsx)("p",{className:"api_error_msg text-center",children:"New Password and Confirm Password should be same"}),(0,s.jsx)(o.z,{onClick:()=>{(0,p.O)(e=>{let t=H(e);L((0,m.h)(t))})},disabled:!k,isLoading:q,children:"Confirm"}),(0,s.jsx)(y.Z,{className:"my-32"}),(0,s.jsx)(b.j,{noteVariant:x.S.infoWarning,children:"For security reasons, withdrawals will be blocked for 24 hours after you change your password. Adding funds & buy/sell would work as usual"})]})}},4588:function(e,t,n){"use strict";n.d(t,{PR:function(){return a},Xi:function(){return o},d1:function(){return u},f5:function(){return i}});var s=n(9388),r=n(7916);let a=e=>{let{name:t,properties:n}=s.SCREEN_VIEWED_EVENT;n.screen_name=e,(0,r.AB)(t,n)},o=(e,t,n)=>{let{name:a,properties:o}=s.BUTTON_CLICKED_EVENT;o.screen_name=e,o.cta=t,(0,r.AB)(a,o,n)},i=(e,t,n,a,o)=>{let{name:i,properties:u}=s.COMMON_FLOW_BUTTON_CLICKED_EVENT;u.screen_name=e,u.cta=t,u.login_or_signup=n,u.login_or_signup_type=a,(0,r.AB)(i,u,o)},u=(e,t)=>{let{name:n,properties:a}=s.ERROR_FACED_CLICK_EVENT;a.screen_name=e,a.error_msg=t,(0,r.AB)(n,a)}},165:function(e){e.exports={horizonal_seperator:"horizontal-separator_horizonal_seperator__01Te6"}},1985:function(e){e.exports={regular:"button_regular__6FQ7F",medium:"button_medium__yc_ov",semibold:"button_semibold__dxlvG",bold:"button_bold__oKoL1",button:"button_button__fXRS9",primary:"button_primary__lNruE",accent:"button_accent___O44p",error:"button_error__nd82a",success:"button_success__VGt6x",warning:"button_warning__GQWxw",secondary:"button_secondary__4j9Qk",tertiary:"button_tertiary__YQLhU"}},3574:function(e){e.exports={regular:"input_regular__PSxVE",medium:"input_medium__2T9Uq",semibold:"input_semibold___rd7S",bold:"input_bold__d_PII",input_container:"input_input_container___zfQG",label:"input_label__FUu5J",has_value:"input_has_value__QmYe9",has_focus:"input_has_focus__jQObH",has_error:"input_has_error__frmXf",error:"input_error__fwss6",input:"input_input__nPe_8","on-auto-fill-start":"input_on-auto-fill-start__CqdeU"}},10:function(e){e.exports={loader_wrapper:"loader_loader_wrapper__5LK18",dot_flashing:"loader_dot_flashing__s64ws","dot-flashing":"loader_dot-flashing__1zqP_"}},9161:function(e){e.exports={note_wrapper:"note_note_wrapper__5N_VK",icon:"note_icon__Vjb2C",insight:"note_insight__0EeTE",imp_note:"note_imp_note__xwGCq",security:"note_security__K4kCI"}},1163:function(e,t,n){e.exports=n(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5111)}),_N_E=e.O()}]);